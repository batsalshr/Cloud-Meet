import"../chunks/DsnmJJEf.js";import{p as ea,k as p,m as Me,o as aa,h as l,l as s,d as v,g as t,s as a,t as D,a as d,b as ta,r,n as _,f as ra}from"../chunks/DQ3BFWhX.js";import{d as oa,s as L}from"../chunks/CySGt9vl.js";import{i as g}from"../chunks/u6AVuwMs.js";import{a as ia,e as la}from"../chunks/B4Bv1KaN.js";import{r as k,a as Se,s as na}from"../chunks/BI5nyQHI.js";import{s as sa}from"../chunks/R6z4UYL7.js";import{b as De,a as Le}from"../chunks/C1Rppsd0.js";import{b as Z}from"../chunks/dm5yZCSw.js";import{S as da}from"../chunks/DZq_RO9z.js";var va=v('<div class="bg-red-50 border border-red-200 text-red-800 rounded-lg p-4 mb-6"> </div>'),ua=v('<div class="relative mb-3 p-4 bg-gray-100 rounded-lg"><img alt="Cover preview" class="max-h-20 w-auto object-contain mx-auto"/> <button type="button" class="absolute top-2 right-2 bg-red-600 text-white p-1.5 rounded-full hover:bg-red-700 transition"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div>'),ca=v('<div class="flex items-center gap-2 text-gray-500"><div class="w-5 h-5 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"></div> <span>Uploading...</span></div>'),pa=v('<div class="text-center"><svg class="w-8 h-8 mx-auto text-gray-400 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg> <p class="text-sm text-gray-500">Click to upload cover image</p> <p class="text-xs text-gray-400">Max 2MB</p></div>'),ma=v("<option>Both Google & Outlook calendars</option>"),ga=v("<option>Google Calendar only</option>"),ba=v("<option>Outlook Calendar only</option>"),fa=v("<option>Google Calendar (with Google Meet)</option>"),_a=v("<option>Outlook Calendar (with Microsoft Teams)</option>"),ha=v('<div class="mb-4"><label for="availability_calendars" class="block text-sm font-medium text-gray-700 mb-2">Check availability from</label> <select id="availability_calendars" name="availability_calendars" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"><!><!><!></select> <p class="text-xs text-gray-500 mt-1">Which calendars to check when showing available time slots</p></div> <div><label for="invite_calendar" class="block text-sm font-medium text-gray-700 mb-2">Send calendar invite via</label> <select id="invite_calendar" name="invite_calendar" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"><!><!></select> <p class="text-xs text-gray-500 mt-1">The attendee will receive an invite from this calendar with the meeting link</p></div>',1),xa=v('<div class="border-t border-gray-200 pt-6"><h3 class="text-sm font-medium text-gray-900 mb-4">Calendar Settings</h3> <div class="mb-4 p-3 bg-gray-50 rounded-lg text-sm"><p class="text-gray-600 mb-1"><span class="font-medium">Check availability from:</span> </p> <p class="text-gray-600"><span class="font-medium">Send invite via:</span> </p> <p class="text-xs text-gray-500 mt-2">These are your global settings. <a href="/dashboard" class="text-blue-600 hover:underline">Change in Dashboard</a></p></div> <div class="flex items-center mb-4"><input type="checkbox" id="override_calendar_settings" name="override_calendar_settings" class="h-4 w-4 text-blue-600 rounded border-gray-300"/> <label for="override_calendar_settings" class="ml-2 text-sm text-gray-700">Override global calendar settings for this event type</label></div> <!></div>'),ya=v('<div class="border-t border-gray-200 pt-6"><p class="text-sm text-gray-500">Connect a calendar in <a href="/dashboard" class="text-blue-600 hover:underline">Dashboard Settings</a> to configure calendar options.</p></div>'),ka=v('<div class="min-h-screen bg-gray-50"><header class="bg-white shadow-sm"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"><div class="flex items-center gap-4"><a href="/dashboard" class="text-gray-600 hover:text-gray-900">‚Üê Back to Dashboard</a> <h1 class="text-2xl font-bold text-gray-900">Create Event Type</h1></div></div></header> <main class="max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><!> <div class="bg-white rounded-lg shadow-sm p-6"><form method="POST"><div class="space-y-6"><div><label for="name" class="block text-sm font-medium text-gray-700 mb-2">Event Name *</label> <input type="text" id="name" name="name" required placeholder="e.g., 30 Minute Meeting" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"/></div> <div><label for="slug" class="block text-sm font-medium text-gray-700 mb-2">URL Slug *</label> <input type="text" id="slug" name="slug" required pattern="[a-z0-9-]+" placeholder="e.g., 30min" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"/> <p class="text-xs text-gray-500 mt-1">Only lowercase letters, numbers, and hyphens. This will be part of your booking URL.</p></div> <div><label for="duration" class="block text-sm font-medium text-gray-700 mb-2">Duration (minutes) *</label> <select id="duration" name="duration" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option>15 minutes</option><option>30 minutes</option><option>45 minutes</option><option>60 minutes</option><option>90 minutes</option><option>2 hours</option></select></div> <div><label for="description" class="block text-sm font-medium text-gray-700 mb-2">Description</label> <!> <input type="hidden" name="description"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Cover Image</label> <p class="text-xs text-gray-500 mb-3">This image will be displayed at the top of your booking page</p> <!> <label><input type="file" accept="image/*" class="hidden"/> <!></label> <input type="hidden" name="cover_image"/></div> <!> <div class="flex items-center"><input type="checkbox" id="is_active" name="is_active" class="h-4 w-4 text-blue-600 rounded border-gray-300"/> <label for="is_active" class="ml-2 text-sm text-gray-700">Active (allow people to book this event type)</label></div> <div class="flex gap-4 pt-4"><button type="submit" class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition disabled:opacity-50"> </button> <a href="/dashboard" class="px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition">Cancel</a></div></div></form></div></main></div>');function Aa(Oe,m){ea(m,!0);let w=p(""),O=p(""),$=p(30),T=p(""),ee=p(!0),h=p(""),C=p(!1),x=p(!1);const y=m.data.googleConnected,b=m.data.outlookConnected&&m.data.outlookConfigured;let G=p(!1);function ae(){return m.data.defaultAvailabilityCalendars?m.data.defaultAvailabilityCalendars:y&&b?"both":b?"outlook":"google"}function te(){return m.data.defaultInviteCalendar?m.data.defaultInviteCalendar:y?"google":b?"outlook":"google"}let re=p(Me(ae())),oe=p(Me(te()));function Te(e){return e==="both"?"Both calendars":e==="outlook"?"Outlook Calendar":"Google Calendar"}function Ge(e){return e==="outlook"?"Outlook (Microsoft Teams)":"Google Calendar (Google Meet)"}async function Ie(e){const u=e.target.files?.[0];if(u){if(u.size>2*1024*1024){alert("Image must be less than 2MB");return}s(x,!0);try{const c=new FileReader;c.onload=()=>{s(h,c.result,!0),s(x,!1)},c.onerror=()=>{alert("Failed to read image"),s(x,!1)},c.readAsDataURL(u)}catch{alert("Failed to upload image"),s(x,!1)}}}function Ae(){s(h,"")}aa(()=>{l(w)&&s(O,l(w).toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),!0)});function Be(){return s(C,!0),async({update:e})=>{await e(),s(C,!1)}}var I=ka(),ie=a(t(I),2),le=t(ie);{var Ue=e=>{var i=va(),u=t(i);r(i),D(()=>L(u,`Error: ${m.form.error??""}`)),d(e,i)};g(le,e=>{m.form?.error&&e(Ue)})}var ne=a(le,2),A=t(ne),se=t(A),B=t(se),de=a(t(B),2);k(de),r(B);var U=a(B,2),ve=a(t(U),2);k(ve),_(2),r(U);var j=a(U,2),z=a(t(j),2),E=t(z);E.value=E.__value=15;var R=a(E);R.value=R.__value=30;var q=a(R);q.value=q.__value=45;var F=a(q);F.value=F.__value=60;var W=a(F);W.value=W.__value=90;var ue=a(W);ue.value=ue.__value=120,r(z),r(j);var H=a(j,2),ce=a(t(H),2);da(ce,{placeholder:"Describe what this meeting is for...",get value(){return l(T)},set value(e){s(T,e,!0)}});var pe=a(ce,2);k(pe),r(H);var N=a(H,2),me=a(t(N),4);{var je=e=>{var i=ua(),u=t(i),c=a(u,2);c.__click=Ae,r(i),D(()=>na(u,"src",l(h))),d(e,i)};g(me,e=>{l(h)&&e(je)})}var M=a(me,2),P=t(M);P.__change=Ie;var ze=a(P,2);{var Ee=e=>{var i=ca();d(e,i)},Re=e=>{var i=pa();d(e,i)};g(ze,e=>{l(x)?e(Ee):e(Re,!1)})}r(M);var ge=a(M,2);k(ge),r(N);var be=a(N,2);{var qe=e=>{var i=xa(),u=a(t(i),2),c=t(u),He=a(t(c));r(c);var he=a(c,2),Ne=a(t(he));r(he),_(2),r(u);var K=a(u,2),xe=t(K);k(xe),_(2),r(K);var Pe=a(K,2);{var Ve=f=>{var S=ha(),Q=ra(S),X=a(t(Q),2),ye=t(X);{var Je=o=>{var n=ma();n.value=n.__value="both",d(o,n)};g(ye,o=>{y&&b&&o(Je)})}var ke=a(ye);{var Ke=o=>{var n=ga();n.value=n.__value="google",d(o,n)};g(ke,o=>{y&&o(Ke)})}var Qe=a(ke);{var Xe=o=>{var n=ba();n.value=n.__value="outlook",d(o,n)};g(Qe,o=>{b&&o(Xe)})}r(X),_(2),r(Q);var we=a(Q,2),Y=a(t(we),2),Ce=t(Y);{var Ye=o=>{var n=fa();n.value=n.__value="google",d(o,n)};g(Ce,o=>{y&&o(Ye)})}var Ze=a(Ce);{var $e=o=>{var n=_a();n.value=n.__value="outlook",d(o,n)};g(Ze,o=>{b&&o($e)})}r(Y),_(2),r(we),Z(X,()=>l(re),o=>s(re,o)),Z(Y,()=>l(oe),o=>s(oe,o)),d(f,S)};g(Pe,f=>{l(G)&&f(Ve)})}r(i),D((f,S)=>{L(He,` ${f??""}`),L(Ne,` ${S??""}`)},[()=>Te(ae()),()=>Ge(te())]),Le(xe,()=>l(G),f=>s(G,f)),d(e,i)},Fe=e=>{var i=ya();d(e,i)};g(be,e=>{y||b?e(qe):e(Fe,!1)})}var V=a(be,2),fe=t(V);k(fe),_(2),r(V);var _e=a(V,2),J=t(_e),We=t(J,!0);r(J),_(2),r(_e),r(se),r(A),ia(A,(e,i)=>la?.(e,i),()=>Be),r(ne),r(ie),r(I),D(()=>{Se(pe,l(T)),sa(M,1,`flex items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-blue-500 hover:bg-blue-50 transition ${l(h)?"hidden":""}`),P.disabled=l(x),Se(ge,l(h)),J.disabled=l(C),L(We,l(C)?"Creating...":"Create Event Type")}),De(de,()=>l(w),e=>s(w,e)),De(ve,()=>l(O),e=>s(O,e)),Z(z,()=>l($),e=>s($,e)),Le(fe,()=>l(ee),e=>s(ee,e)),d(Oe,I),ta()}oa(["click","change"]);export{Aa as component};
