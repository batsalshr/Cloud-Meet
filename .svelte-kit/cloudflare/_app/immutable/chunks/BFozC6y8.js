import"./DsnmJJEf.js";import{p as G,d as D,g as u,r as l,s as j,t as S,h as e,a as b,u as I,b as J,c as z,f as E}from"./DQ3BFWhX.js";import{d as K,s as T}from"./CySGt9vl.js";import{e as R,i as U}from"./DKg4GSHA.js";import{s as O}from"./R6z4UYL7.js";import{s as N}from"./BXbUNSRB.js";import{a as P,f as Q}from"./BjWePiXU.js";import{i as Y}from"./u6AVuwMs.js";function W(n){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:{r:59,g:130,b:246}}function q(n,t){const{r:g,g:x,b:M}=W(n),c=v=>Math.min(255,Math.max(0,Math.round(v+255*t/100)));return`rgb(${c(g)}, ${c(x)}, ${c(M)})`}function V(n,t){const{r:g,g:x,b:M}=W(n),c=_=>Math.min(255,Math.max(0,Math.round(_+255*t/100))),v=_=>_.toString(16).padStart(2,"0");return`#${v(c(g))}${v(c(x))}${v(c(M))}`}function bt(n){return{base:n,rgb:W(n),light:q(n,40),lighter:q(n,60),dark:q(n,-15),darkHex:V(n,-20)}}var X=D('<div class="text-center text-xs font-medium text-gray-500 py-2"> </div>'),Z=D('<button type="button"> </button>'),$=D('<div><div class="flex items-center justify-between mb-4"><h3 class="text-lg font-medium text-gray-900"> </h3> <div class="flex gap-2"><button class="p-2 hover:bg-gray-100 rounded-full transition" aria-label="Previous month"><svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg></button> <button class="p-2 hover:bg-gray-100 rounded-full transition" aria-label="Next month"><svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button></div></div> <div class="grid grid-cols-7 gap-1 mb-2"></div> <div class="grid grid-cols-7 gap-1"></div></div>');function mt(n,t){G(t,!0);const g=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],x=I(()=>()=>{const a=t.currentMonth.getFullYear(),o=t.currentMonth.getMonth(),d=new Date(a,o,1),f=new Date(a,o+1,0),w=(d.getDay()+6)%7,i=[];for(let r=0;r<w;r++){const s=new Date(a,o,r-w+1);i.push({date:s,isCurrentMonth:!1,isAvailable:!1,dateStr:P(s)})}const p=new Date;p.setHours(0,0,0,0);for(let r=1;r<=f.getDate();r++){const s=new Date(a,o,r),A=P(s),H=s>=p&&s<=new Date(p.getTime()+1440*60*60*1e3);i.push({date:s,isCurrentMonth:!0,isAvailable:H,dateStr:A})}const h=42-i.length;for(let r=1;r<=h;r++){const s=new Date(a,o+1,r);i.push({date:s,isCurrentMonth:!1,isAvailable:!1,dateStr:P(s)})}return i});function M(a){return new Intl.DateTimeFormat("en-US",{month:"long",year:"numeric"}).format(a)}var c=$(),v=u(c),_=u(v),m=u(_,!0);l(_);var y=j(_,2),C=u(y);C.__click=function(...a){t.onPrevMonth?.apply(this,a)};var F=j(C,2);F.__click=function(...a){t.onNextMonth?.apply(this,a)},l(y),l(v);var B=j(v,2);R(B,21,()=>g,U,(a,o)=>{var d=X(),f=u(d,!0);l(d),S(()=>T(f,e(o))),b(a,d)}),l(B);var k=j(B,2);R(k,21,()=>e(x)(),U,(a,o)=>{const d=I(()=>t.availableDates.has(e(o).dateStr)),f=I(()=>e(o).isAvailable&&e(d)),w=I(()=>t.selectedDate===e(o).dateStr);var i=Z();i.__click=()=>e(f)&&t.onDateSelect(e(o).dateStr);var p=u(i,!0);l(i),S(h=>{i.disabled=!e(f),O(i,1,`aspect-square flex items-center justify-center text-sm rounded-full transition relative
					${e(o).isCurrentMonth?"":"text-gray-300"}
					${e(f)&&!e(w)?"font-semibold cursor-pointer":""}
					${e(o).isAvailable&&!e(d)&&e(o).isCurrentMonth?"text-gray-400":""}
					${!e(o).isAvailable&&e(o).isCurrentMonth?"text-gray-300 cursor-not-allowed":""}
					${e(w)?"text-white":""}`),N(i,`${e(f)&&!e(w)?`background-color: ${t.brandLighter}; color: ${t.brandDark}`:""}${e(w)?`background-color: ${t.brandColor}`:""}`),T(p,h)},[()=>e(o).date.getDate()]),b(a,i)}),l(k),l(c),S(a=>T(m,a),[()=>M(t.currentMonth)]),b(n,c),J()}K(["click"]);var tt=D('<div class="flex items-center justify-center py-8"><div class="animate-spin rounded-full h-8 w-8 border-2 border-t-transparent"></div></div>'),et=D('<p class="text-sm text-gray-500 py-4">No available times</p>'),at=D('<div class="flex gap-2"><button type="button" class="flex-1 py-2.5 px-3 border-2 border-gray-900 bg-gray-900 text-white rounded-lg text-sm font-semibold"> </button> <button type="button" class="flex-1 py-2.5 px-3 text-white rounded-lg text-sm font-semibold transition">Next</button></div>'),rt=D('<button type="button" class="w-full py-2.5 px-3 border-2 rounded-lg text-sm font-semibold transition"> </button>'),ot=D('<div class="space-y-2 overflow-y-auto flex-1 pr-2 pb-2 scrollbar-thin"></div>'),nt=D('<div class="w-52 ml-6 border-l border-gray-200 pl-6 flex flex-col" style="max-height: 400px;"><h3 class="text-sm font-medium text-gray-500 mb-4 flex-shrink-0"> </h3> <!></div>');function ht(n,t){G(t,!0);var g=nt(),x=u(g),M=u(x,!0);l(x);var c=j(x,2);{var v=m=>{var y=tt(),C=u(y);l(y),S(()=>N(C,`border-color: ${t.brandColor??""}; border-top-color: transparent`)),b(m,y)},_=m=>{var y=z(),C=E(y);{var F=k=>{var a=et();b(k,a)},B=k=>{var a=ot();R(a,21,()=>t.availableSlots,U,(o,d)=>{var f=z(),w=E(f);{var i=h=>{var r=at(),s=u(r),A=u(s,!0);l(s);var H=j(s,2);H.__click=function(...L){t.onConfirm?.apply(this,L)},l(r),S(L=>{T(A,L),N(H,`background-color: ${t.brandColor??""}`)},[()=>t.formatTime(e(d).start)]),b(h,r)},p=h=>{var r=rt();r.__click=()=>t.onSelectSlot(e(d));var s=u(r,!0);l(r),S(A=>{N(r,`border-color: ${t.brandColor??""}; color: ${t.brandColor??""}`),T(s,A)},[()=>t.formatTime(e(d).start)]),b(h,r)};Y(w,h=>{t.selectedSlot===e(d)?h(i):h(p,!1)})}b(o,f)}),l(a),b(k,a)};Y(C,k=>{t.availableSlots.length===0?k(F):k(B,!1)},!0)}b(m,y)};Y(c,m=>{t.loading?m(v):m(_,!1)})}l(g),S(m=>T(M,m),[()=>Q(t.selectedDate).split(",")[0]]),b(n,g),J()}K(["click"]);export{mt as B,ht as T,bt as c};
